<div class="form p-dir-col p-d-flex">
  <div class="p-d-flex p-dir-row p-col-12">
    <div>
      <p-dropdown
        placeholder="上層選單分類"
        [options]="parentCategory"
        optionLabel="name"
        optionValue="name"
        [(ngModel)]="filterParent"
      ></p-dropdown>
    </div>
    <div>
      <p-dropdown
        placeholder="問題母分類"
        [options]="category"
        optionLabel="name"
        optionValue="name"
        [(ngModel)]="filterCategory"
      ></p-dropdown>
    </div>
    <div>
      <p-dropdown
        placeholder="問題子分類"
        [options]="childCategory"
        optionLabel="name"
        optionValue="name"
        [(ngModel)]="filterChild"
      ></p-dropdown>
    </div>
    <div>
      <input
        type="text"
        placeholder="關鍵字"
        pInputText
        [(ngModel)]="keyword"
      />
    </div>
    <div>
      <p-dropdown
        placeholder="審核狀態"
        [options]="auditStatus"
        optionLabel="name"
        optionValue="name"
      ></p-dropdown>
    </div>
  </div>

  <div class="p-dir-row p-d-flex p-col-12">
    <div class="datepicker-area">
      <div class="date-area">
        <p-calendar
          [showIcon]="true"
          dateFormat="yy/mm/dd"
          [showButtonBar]="true"
          placeholder="yyyy/mm/dd"
        ></p-calendar>
      </div>
      <div class="date-area">
        <p-calendar
          [showIcon]="true"
          dateFormat="yy/mm/dd"
          [showButtonBar]="true"
          placeholder="yyyy/mm/dd"
        ></p-calendar>
      </div>
    </div>
    <div>
      <button
        pButton
        type="button"
        label="Search"
        icon="pi pi-search"
        iconPos="right"
        class="p-button-primary p-button-outlined"
      ></button>
    </div>
    <div>
      <button
        pButton
        type="button"
        label="Create"
        icon="pi pi-plus-circle"
        iconPos="right"
        class="p-button-warning p-button-outlined"
        (click)="createItem()"
      ></button>
    </div>
  </div>
  <div class="p-col-12">
    <p-table
      [paginator]="true"
      [rows]="10"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [rowsPerPageOptions]="[10, 25, 50]"
      [value]="products"
    >
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="id">功能</th>
          <th pSortableColumn="order">
            順序 <p-sortIcon field="order"></p-sortIcon>
          </th>
          <th pSortableColumn="title">
            標題 <p-sortIcon field="title"></p-sortIcon>
          </th>
          <th pSortableColumn="status">
            審核狀態 <p-sortIcon field="status"></p-sortIcon>
          </th>
          <th pSortableColumn="startDate">
            上架日期 <p-sortIcon field="startDate"></p-sortIcon>
          </th>
          <th pSortableColumn="endDate">
            下架日期 <p-sortIcon field="endDate"></p-sortIcon>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-product let-rowIndex="rowIndex">
        <tr>
          <td>
            <div class="func-btn">
              <button
                pButton
                type="button"
                class="p-button-outlined p-button-rounded p-button-success"
                icon="pi pi-pencil"
                style="margin-right: 10px"
                (click)="updateItem(product, rowIndex)"
              ></button>
              <button
                pButton
                type="button"
                icon="pi pi-trash"
                class="p-button-outlined p-button-rounded p-button-danger"
                (click)="deleteData(rowIndex)"
              ></button>
            </div>
          </td>
          <td>{{ product.order }}</td>
          <td>{{ product.title }}</td>
          <td>{{ product.status }}</td>
          <td>{{ product.startDate | date: "yyyy-MM-dd hh:mm" }}</td>
          <td>{{ product.endDate | date: "yyyy-MM-dd hh:mm" }}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="6">
            <h4 class="text-center">查無資料</h4>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
